<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒŸ Story Typer - Fun Typing for Kids!</title>
    <meta name="description" content="A fun and colorful typing game where kids learn through magical stories and adventures">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¯</text></svg>">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="screen active">
        <div class="container">
            <div class="brand">
                <div class="mascot">ğŸ¯</div>
                <h1>ğŸŒŸ Story Typer</h1>
                <p>Let's go on a magical typing adventure!</p>
            </div>
            
            <div class="form-group">
                <label for="player-name">What's your name, little adventurer?</label>
                <input type="text" id="player-name" placeholder="Type your name here!" maxlength="25" required>
            </div>
            
            <button id="continue-to-language" class="btn btn-primary" disabled>
                ğŸš€ Start Adventure!
            </button>
        </div>
    </div>

    <!-- Language Selection -->
    <div id="language-screen" class="screen hidden">
        <div class="container">
            <h2>Hi <span id="player-name-display"></span>! ğŸŒˆ Choose your story world:</h2>
            
            <div class="options-grid">
                <button class="option language-option recommended" data-lang="id" data-name="Bahasa Indonesia">
                    <div class="flag">ğŸ‡®ğŸ‡©</div>
                    <div class="name">Negeri Dongeng</div>
                    <div class="sample">"Petualangan seru dalam bahasa Indonesia!"</div>
                </button>
                
                <button class="option language-option" data-lang="en" data-name="English">
                    <div class="flag">ğŸ°</div>
                    <div class="name">Magic Kingdom</div>
                    <div class="sample">"Join the fairy tale adventure!"</div>
                </button>
                
                <button class="option language-option" data-lang="es" data-name="EspaÃ±ol">
                    <div class="flag">ğŸŒ®</div>
                    <div class="name">Casa MÃ¡gica</div>
                    <div class="sample">"Â¡Aventuras en espaÃ±ol!"</div>
                </button>
                
                <button class="option language-option" data-lang="fr" data-name="FranÃ§ais">
                    <div class="flag">ğŸ—¼</div>
                    <div class="name">ChÃ¢teau EnchantÃ©</div>
                    <div class="sample">"Adventures en franÃ§ais!"</div>
                </button>
            </div>
            
            <button id="back-to-welcome" class="btn btn-secondary">ğŸ”™ Go Back</button>
        </div>
    </div>

    <!-- Timer Selection -->
    <div id="timer-screen" class="screen hidden">
        <div class="container">
            <h2>ğŸ• How long is your adventure?</h2>
            
            <div class="options-grid">
                <button class="option timer-option" data-duration="60">
                    <div class="icon">ğŸŒŸ</div>
                    <div class="name">1 Minute</div>
                    <div class="desc">Quick story!</div>
                </button>
                
                <button class="option timer-option recommended" data-duration="120">
                    <div class="icon">ğŸš€</div>
                    <div class="name">2 Minutes</div>
                    <div class="desc">Perfect adventure!</div>
                </button>
                
                <button class="option timer-option" data-duration="180">
                    <div class="icon">ğŸ†</div>
                    <div class="name">3 Minutes</div>
                    <div class="desc">Long journey!</div>
                </button>
                
                <button class="option timer-option" data-duration="300">
                    <div class="icon">ğŸ‘‘</div>
                    <div class="name">5 Minutes</div>
                    <div class="desc">Epic quest!</div>
                </button>
            </div>
            
            <button id="back-to-language" class="btn btn-secondary">ğŸ”™ Go Back</button>
        </div>
    </div>

    <!-- Countdown Screen -->
    <div id="countdown-screen" class="screen hidden">
        <div class="container">
            <h2>ğŸ¯ Get ready, <span id="player-name-countdown"></span>!</h2>
            <p>Starting your <strong id="selected-language-display">Magic Kingdom</strong> adventure for <strong id="selected-duration-display">2 minutes</strong>!</p>
            
            <div class="countdown-circle">
                <div id="countdown-number">5</div>
            </div>
            
            <div id="countdown-text">Put your hands on the keyboard like a pianist...</div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen hidden">
        <div class="container">
            <div class="game-header">
                <span>ğŸŒŸ You're doing great, <span id="player-name-game"></span>!</span>
                <span><span id="game-language">Magic Kingdom</span> â€¢ <span id="game-duration">2:00</span></span>
            </div>

            <div class="stats">
                <div class="stat">
                    <div class="label">âœ¨ Magic Words</div>
                    <div class="value" id="wpm">0</div>
                </div>
                <div class="stat">
                    <div class="label">ğŸ¯ Accuracy</div>
                    <div class="value" id="accuracy">100%</div>
                </div>
                <div class="stat timer-card">
                    <div class="label">â° Time Left</div>
                    <div class="value" id="timer">2:00</div>
                </div>
            </div>

            <div class="story-context">
                <div class="story-mascot">ğŸ¯</div>
                <div class="story-bubble">
                    <div id="sentence"></div>
                </div>
            </div>

            <textarea 
                id="typing-input" 
                placeholder="Type the story here to help our tiger friend!"
                spellcheck="false"
                autocomplete="off"
            ></textarea>
        </div>
    </div>

    <!-- Time's Up Screen -->
    <div id="times-up-screen" class="screen hidden">
        <div class="container">
            <div class="times-up">
                <div class="icon">â°</div>
                <h2>Time's Up!</h2>
                <p>Great job, <span id="player-name-times-up"></span>!</p>
                <p>Let's see how you did...</p>
            </div>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="results-screen" class="screen hidden">
        <div class="container">
            <h2>ğŸ‰ Amazing job, <span id="results-player-name"></span>! You're a typing superstar!</h2>
            
            <div class="celebration">
                <div class="mascot-celebration">ğŸ¯âœ¨</div>
                <p>You helped complete the magical story!</p>
            </div>
            
            <div class="results-grid">
                <div class="result-card primary">
                    <div class="icon">âš¡</div>
                    <div class="label">Magic Words per Minute</div>
                    <div class="value" id="final-wpm">0</div>
                </div>
                
                <div class="result-card">
                    <div class="icon">ğŸŒŸ</div>
                    <div class="label">Accuracy Stars</div>
                    <div class="value" id="final-accuracy">100%</div>
                </div>
                
                <div class="result-card">
                    <div class="icon">ğŸ“</div>
                    <div class="label">Letters Typed</div>
                    <div class="value" id="total-characters">0</div>
                </div>
                
                <div class="result-card">
                    <div class="icon">ğŸ“š</div>
                    <div class="label">Stories Completed</div>
                    <div class="value" id="sentences-completed">0</div>
                </div>
            </div>
            
            <div class="actions">
                <button id="play-again-btn" class="btn btn-primary">
                    ğŸš€ Another Adventure!
                </button>
                <button id="change-settings-btn" class="btn btn-secondary">
                    ğŸ› ï¸ Change World
                </button>
                <button id="new-session-btn" class="btn btn-secondary">
                    ğŸ‘‹ New Friend
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="monitor.js"></script>
    <script type="module" src="ab-testing.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>